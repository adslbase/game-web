/*
 Tencent ISD QQLive WebTeam. 
 Copyright 1998 - 2011 
 2011-6-23 10:22:6.584
*/

function getId(id){return document.getElementById(id);};var QQLiveSetup={ver:"$Rev: 9293 $",curSSO:"",lastmodify:"$Date: 2011-06-22 16:49:49 +0800 (周三, 22 六月 2011) $"};QQLiveSetup.log=function(_1){if(window.console){QQLiveSetup.debugid=QQLiveSetup.debugid||1;window.console.log("["+(QQLiveSetup.debugid++)+"] "+_1);}};QQLiveSetup.isDebug=-1;QQLiveSetup.debug=function(_2){if(QQLiveSetup.isDebug===-1){QQLiveSetup.isDebug=QQLiveSetup.param.getUrlParam("debug")=="true"?1:0;}
if(!!QQLiveSetup.isDebug){QQLiveSetup.log(_2);}};QQLiveSetup.config={OLD_MIN_VER:"8.22.5275.0",IE_MIN_VER:"8.33.5581.0",FF_MIN_VER:"8.33.5581.0",STARTUP_MIN_VER:"8.14.4895.0",IE_FLASH_MIN_VER:"9.0.124.0",FF_FLASH_MIN_VER:"10.0",QQLIVE_DOWNLOAD_URL:"qqliveocx",QQLIVE_DOWNLOAD_TPTURL:"",QQLIVE_INSTALLER_CAB:"http://dl_dir.qq.com/qqtv/MMInstaller.cab#version=8,14,4895,0",FLASH_CAB:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,124,0",FLASH_SETUP_AX:"http://fpdownload.macromedia.com/get/flashplayer/current/install_flash_player_ax.exe",FLASH_SETUP_PLUGIN:"http://fpdownload.macromedia.com/get/flashplayer/current/install_flash_player.exe",MEDIAPLAYER_DOWNLOAD_URL:"http://dl_dir.qq.com/qqtv/QQLiveWebPlayer8.33.5589.0.exe",PROGID_QQLIVE_INSTALLER:"QQLiveInstaller.InstallHelper.1",PROGID_QQLIVE_LIVEAPI:"QQLive.Application",FLASH_START:"start",PAGE_LOADING:"loading",PAGE_ERROR:"error",PAGE_NONSUPPORT:"nonsupport",PAGE_PREVINSTALL:"prevInstall",PAGE_FFERROR:"errorFFF",QQLIVE_DOWNLOAD_VERSION:"QQLive 2011",MMINSTALL_CLSID:"1DABF8D5-8430-4985-9B7F-A30E53D709B3",MMINSTALL_VER:"8,14,4895,0",OLD_IE_CLSID:"11F2A418-94B2-4E16-9B0C-B00C0435F903",OLD_FF_CLSID:"D9EBCF5D-3F8F-4B6A-89BA-70577BE73C62",SEHLL_CLSID:"f7e55bdf-9528-46ba-b550-777859627591",OCX_CLSID:"5EF7B131-C278-4034-BC88-2CE28B128681",LIVEAPI_CLSID:"4A8FD414-1EBF-4EBD-A158-0D09B005A17F",GUIDE_SWF:"http://cache.tv.qq.com/out/skins/download_guide2.swf?20091116",GUIDE_SWF_IMGCACHE:"http://imgcache.qq.com/liveportal_v1/swf/player/download_guide2.swf?20091116",OCX_URL:"http://imgcache.qq.com/liveportal_v1/toolpages/qqlive_ocx.html?v=20110418",CTRLSWF_URL:"http://imgcache.qq.com/liveportal_v1/swf/player/vodCtrl.swf",CTRLSWF_W_URL:"http://imgcache.qq.com/liveportal_v1/swf/player/vodCtrl_w.swf",PREVIEW_URL:"http://imgcache.qq.com/liveportal_v1/swf/player/qqlive_logo.swf",LOADING_URL:"http://imgcache.qq.com/liveportal_v1/swf/player/loadstart.swf",AD_SWF_URL:"http://imgcache.qq.com/liveportal_v1/swf/player/moneyplayer.swf"};QQLiveSetup.param={oldParam:{url:"URL",autoplay:"AutoPlay",type:"Type",mediafun:"MediaFun",webskin:"WebSkin"},playpage:{mousewheel:"mousewheel",oldmode:"OldMode"},shell:{ocxurl:"OcxUrl",hidescripterr:"HideScriptErr"},ocx:{mute:"Mute",volume:"Volume",fullscreen:"FullScreen",appendpausebtn:"AppendPauseBtn",programpageurl:"ProgramPageUrl"},driver:{autoplay:"autoPlay",iscontinued:"isContinued",url:"url",type:"type",adv:"adv",oid:"oid"},driverurl:{ctrlbar:"ctrlbar",ctrlheight:"ctrlh",previewurl:"previewUrl",loadingurl:"loadingUrl",previewpic:"previewPic",hidectrl:"hideCtrl",debug:"debug"},getParamBool:function(v){if(v===undefined){return false;}
if(typeof v=="string"){v=v.toLowerCase();return(v=="true"||v=="1");}
return!!v;},filterXSS:function(_3){return _3.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;");},getUrlParam:function(p,u){var v="";u=u||document.location.toString();var pa=p+"=";var f=u.indexOf(pa);if(f!=-1){var f2=u.indexOf("&",f);var _4=u.indexOf("?",f);if(_4!=-1&&(f2==-1||f2>_4)){f2=_4;}
_4=u.indexOf("#",f);if(_4!=-1&&(f2==-1||f2>_4)){f2=_4;}
if(f2==-1){v=u.substring(f+pa.length);}else{v=u.substring(f+pa.length,f2);}}
return v;},getElementObjectById:function(id){return!!window.ActiveXObject?document.getElementById(id):document.embeds[id];}};QQLiveSetup.lang={NOTSUPPORT:"该浏览器暂不支持腾讯视频播放器",STEPTIPS:"请按照以下提示安装腾讯视频播放器",CLICKBTN:"请点击按钮开始安装腾讯视频播放器",LOWVERSION:"您尚未安装腾讯视频播放器或版本过低"};QQLiveSetup.version=(function(){var _5=-1,_6=-1,_7=-1;_version={};function _8(_9){if(QQLiveSetup.version.checkVerFormatValid(_9)){return _9;}
if(/\d+/i.test(_9)){var _a=parseInt(_9/10000/100,10);var _b=parseInt(_9/10000,10)-_a*100;var _c=parseInt(_9,10)-(_a*100*10000+_b*10000);strVer=_a+"."+_b+"."+_c;return strVer;}
return _9;};return{compare:function(_d,_e){_d=_8(_d);_e=_8(_e);_d=_d.replace(/,/g,".");_e=_e.replace(/,/g,".");var _f=_d.split(".");var _10=_e.split(".");for(var i=0;i<4;i++){var _11=Number(_f[i]);var _12=Number(_10[i]);if(_11>_12){return 1;}else{if(_11<_12){return-1;}}}
return 0;},get:function(_13,_14){_13=_13||QQLiveSetup.config.OCX_CLSID;var k=_13.replace(/-/ig,"");if(!!_version[k]&&_version[k]!="0.0.0.0"&&_version[k]!="0"){return _version[k];}
var _15=0;var _16=QQLiveSetup.installer.getActiveXObj(QQLiveSetup.config.PROGID_QQLIVE_INSTALLER,"MMInstall.dll");if(!!_16){try{_15=_16.GetVersionByClsid(_13);}
catch(e){if(!!_14){try{_15=_16.GetVersion();}
catch(e2){}}}}
if(_15!=0&&_15!="0.0.0.0"){_version[k]=_15;}
var _17="";if(_13==QQLiveSetup.config.OCX_CLSID){_17="local ocx";}else{_17="local player";}
QQLiveSetup.debug(_17+" version is "+_15);try{_16.Destroy();delete _16;_16=null;}
catch(e){}
return _15;},check:function(_18){_18=_18||(!!QQLiveSetup.browser.ie?QQLiveSetup.config.IE_MIN_VER:QQLiveSetup.config.FF_MIN_VER);if(!QQLiveSetup.version.checkVerFormatValid(_18)){return false;}
var _19;var _1a=QQLiveSetup.version.get();if(/^\d+$/.test(_1a)){_19=_8(_1a);}else{_19=_1a+"";}
if(QQLiveSetup.version.compare(_19,_18)<0){return false;}else{return true;}},isZero:function(ver){ver=ver||QQLiveSetup.version.get();if(/^\d+$/.test(ver)){if(ver==0){return true;}}
return QQLiveSetup.version.compare(ver,"0.0.0.0")==0;},checkVerFormatValid:function(_1b){return(/^(\d+\.){2}\d+(\.\d+)?$/.test(_1b));},hasQQLiveOcx:function(){if(_7!=-1){return _7==1;}
var v=QQLiveSetup.version.check();_7=!!v?1:0;return _7;},hasOldVersion:function(){if(_6!=-1){return _6==1;}
var v=QQLiveSetup.version.get(QQLiveSetup.config.OLD_IE_CLSID,true);if(!v){return false;}
_6=QQLiveSetup.version.compare(v,QQLiveSetup.config.OLD_MIN_VER)>0?1:0;return!!_6;},hasQQLivePlayer:function(){if(_5!=-1){return _5==1;}
var v=QQLiveSetup.version.get(QQLiveSetup.config.LIVEAPI_CLSID);if(!v){return false;}
_5=QQLiveSetup.version.compare(v,"0.0.0.0")>0?1:0;return!!_5;}};})();QQLiveSetup.browser=(function(){var t,vie,vff,_1c,vsf,_1d,_1e,_1f,_20,_21,_22,_23=false,_24=false,_25=navigator.userAgent,_26=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel|Minefield).(\d+\.\d+))|(?:Opera.(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))/,_27=/(Windows.*?;)|(Mac OS X.*?;)/,_28=/Windows.+?(\d+\.\d+)/,_29=/AdobeAIR/,_2a=/Chrome.(\d+\.\d+)/,_2b=/Version\/(\d+(?:\.\d+)?)/,_2c=_26.exec(_25),os=_27.exec(_25);if(_2c){vie=_2c[1]?parseFloat(_2c[1],10):NaN;vff=_2c[2]?parseFloat(_2c[2],10):NaN;}
return{firefox:vff,ie:vie,isCanFF:function(){if(!!vff&&vff>=3){return true;}
return false;},isBrwValid:function(){return(!!vie||(!!vff&&vff>=3));}};})();QQLiveSetup.userAgent=QQLiveSetup.browser;QQLiveSetup.installer={timer:null,installerObj:null,getInstallerHtml:function(){var str="";str+="<div id=\"qqlive_mminstaller_div\"><OBJECT classid=\"clsid:"+QQLiveSetup.config.MMINSTALL_CLSID+"\" codebase=\"http://dl_dir.qq.com/qqtv/MMInstaller.cab#version="+QQLiveSetup.config.MMINSTALL_VER+"\" ID=\"QQLiveInstaller\" width=\"0px\" height=\"0px\">";str+="\t<embed name=\"FF_MM_Install\" id=\"FF_MM_Install\" type=\"application/tecent-qqlive-plugin\" width=\"0px\" height=\"0px\"></embed>";str+="</OBJECT></div>";return str;},showInstallerObject:function(_2d){getId(_2d).innerHTML=QQLiveSetup.installer.getInstallerHtml();},isMMInstalled:function(){if(!!QQLiveSetup.browser.ie){try{var _2e=new ActiveXObject(QQLiveSetup.config.PROGID_QQLIVE_INSTALLER);if(typeof _2e.GetVersionByClsid!="undefined"){return true;}
try{_2e.Destroy();_2e=null;delete _2e;}
catch(e){}
return false;}
catch(e){return false;}}else{if(QQLiveSetup.browser.isCanFF()){var _2f=document.embeds["FF_MM_Install"];try{_2f.CreateAX("MMInstall.dll");if(typeof _2f.GetVersionByClsid!="undefined"){return true;}
try{_2f.Destroy();_2f=null;delete _2f;}
catch(e){}
return true;}
catch(e){return false;}}}
return false;},checkFFHasMMEmbed:function(){return!!getId("FF_MM_Install");},getActiveXObj:function(_30,_31){var obj=null;if(!!_31&&QQLiveSetup.browser.isCanFF()){obj=document.embeds["FF_MM_Install"];if(!obj){var _32=document.createElement("div");_32.innerHTML=QQLiveSetup.installer.getInstallerHtml();document.getElementsByTagName("body")[0].appendChild(_32);obj=document.embeds["FF_MM_Install"];}
try{obj.CreateAX(_31);}
catch(e){}}else{if(!!_30&&!!QQLiveSetup.browser.ie){try{obj=new ActiveXObject(_30);}
catch(e){}}}
return obj;},checkMMIsInstall:function(){if(!QQLiveSetup.installer.isMMInstalled()){return;}
clearInterval(QQLiveSetup.installer.timer);QQLiveSetup.installer.timer=null;var _33=QQLiveSetup.version.check();if(!_33){if(!QQLiveSetup.version.hasQQLiveOcx()){if(QQLiveSetup.version.hasOldVersion()){QQLiveSetup.flash.showInstallBtn(QQLiveSetup.lang.LOWVERSION);}else{QQLiveSetup.flash.showInstallBtn(QQLiveSetup.lang.CLICKBTN);}}else{QQLiveSetup.flash.showInstallBtn(QQLiveSetup.lang.LOWVERSION);}}else{window.location.reload();}},hide:function(){var _34=getId("QQLiveInstaller");if(!!_34){_34.style.display="none";}},autoDownload:function(){var _35=QQLiveSetup.config.PAGE_LOADING;var _36="";if(QQLiveSetup.version.isZero()&&QQLiveSetup.version.hasOldVersion()==false){_36="正在下载腾讯视频播放器";}else{_36="版本过低，正在升级腾讯视频播放器";}
if(QQLiveSetup.browser.isCanFF()){_35=PAGE_ERROR;_36="您尚未安装腾讯视频播放器或版本过低";}else{if(!QQLiveSetup.installer.installerObj){QQLiveSetup.installer.installerObj=new ActiveXObject(QQLiveSetup.config.PROGID_QQLIVE_INSTALLER);}
try{QQLiveSetup.installer.installerObj.DownloadSetup(QQLiveSetup.config.QQLIVE_DOWNLOAD_URL,QQLiveSetup.config.QQLIVE_DOWNLOAD_TPTURL,1," /S",QQLiveSetup.installer.downloadCallBack);}
catch(e){_35=PAGE_ERROR;_36="自动安装腾讯视频播放器失败";QQLiveSetup.installer.onInstallErr();}}
if(!!document["UISWF"]){document["UISWF"].showPanel(_35);document["UISWF"].changePanelTitle(_36);}},downloadCallBack:function(_37,_38){var _39="";var _3a="";QQLiveSetup.debug(_37+","+_38);switch(_37){case 0:_39="正在准备下载...";break;case 1:if(_38>93){_38="93";}
_39="正在下载..."+_38+"%";break;case 2:_38="96";_39="正在安装..."+_38+"%";_3a="正在安装腾讯视频播放器，请稍候";break;case 3:_38="100";_39="运行安装程序完毕!";_3a="运行安装程序完毕";break;case-1:_39="启动下载失败！";break;case-2:_39="安装程序被终止！";break;case-3:_39="下载失败!";break;case-100:_39="下载路径不合法！";break;default:_39="未知状态！";break;}
if(_37==0){QQLiveSetup.installer.onDownloadStart();}else{if(_37==1||_37==2||_37==3){if(_37==2){QQLiveSetup.installer.onDownloadEnd();QQLiveSetup.installer.onInstallStart();}else{if(_37==3){QQLiveSetup.installer.onInstallSuc();}}
try{document["UISWF"].setProgress(_38/100);if(_3a!=""){document["UISWF"].changePanelTitle(_3a);}
if(_37==3){window.location.reload();}}
catch(e){}}else{if(_37<0){QQLiveSetup.installer.onInstallErr(_37);try{QQLiveSetup.flash.showManualInstall("自动安装腾讯视频播放器失败");QQLiveSetup.debug(_39);}
catch(e){}}}}},onDownloadClick:function(){},onDownloadStart:function(){},onDownloadEnd:function(){},onInstallStart:function(){},onInstallErr:function(_3b){},onInstallSuc:function(){},onManualDownClick:function(){},ERRCODE:{INIT_DOWNLOADTOOLS_ERROR:0}};QQLiveSetup.flash={getFullVersion:function(){var _3c="0.0";var swf=null;function _3d(){for(var ii=11;ii>=2;ii--){try{var fl=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+ii);if(fl){_3c=ii+".0";var _3e=swf.GetVariable("$version");if(!!_3e){_3e=_3e.replace(/^[^\d]+/g,"");_3c=_3e.replace(/,/g,".");}
fl=null;delete fl;break;}}
catch(e){}}};if(!!QQLiveSetup.browser.ie){try{swf=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(!swf){_3d();}}
catch(e){_3d();}
if(!!swf){var _3f=swf.GetVariable("$version").replace(/^[^\d]+/g,"");_3c=_3f.replace(/,/g,".");}}else{if(navigator.plugins&&navigator.plugins.length>0){swf=navigator.plugins["Shockwave Flash"];if(!!swf){var _40=swf.description.split(" ");for(var i=0;i<_40.length;++i){if(!isNaN(parseInt(_40[i]))){_3c=_40[i];break;}}}}}
QQLiveSetup.debug("local flash player is "+_3c);return _3c;},getMainVer:function(){var _41=QQLiveSetup.flash.getFullVersion();if(_41.indexOf(".")>0){return _41.split(".")[0];}
return 0;},isFlashVerVaild:function(){var _42=false;if(!!QQLiveSetup.browser.ie){_42=QQLiveSetup.version.compare(QQLiveSetup.flash.getFullVersion(),QQLiveSetup.config.IE_FLASH_MIN_VER)==-1?false:true;}else{_42=QQLiveSetup.version.compare(QQLiveSetup.flash.getFullVersion(),QQLiveSetup.config.FF_FLASH_MIN_VER)==-1?false:true;}
return _42;},Fresh:function(){window.location.reload();},RunQQLive:function(){window.location.href=QQLiveSetup.curSSO;},JumpUrl:function(){location.href=QQLiveSetup.config.MEDIAPLAYER_DOWNLOAD_URL;},showNotSupport:function(){if(!document["UISWF"]){return;}
document["UISWF"].showPanel(QQLiveSetup.config.PAGE_NONSUPPORT);document["UISWF"].changePanelTitle(QQLiveSetup.lang.NOTSUPPORT);},showInstallStep:function(){if(!document["UISWF"]){return;}
document["UISWF"].showPanel(QQLiveSetup.config.FLASH_START);document["UISWF"].changePanelTitle(QQLiveSetup.lang.STEPTIPS);},showManualInstall:function(_43){if(!document["UISWF"]){return;}
if(!!QQLiveSetup.browser.ie){document["UISWF"].showPanel(QQLiveSetup.config.PAGE_ERROR);}else{document["UISWF"].showPanel(QQLiveSetup.config.PAGE_FFERROR);}
document["UISWF"].changePanelTitle(_43);},showInstallBtn:function(_44){if(!document["UISWF"]){return;}
_44=_44||QQLiveSetup.lang.CLICKBTN;document["UISWF"].showPanel(QQLiveSetup.config.PAGE_PREVINSTALL);document["UISWF"].changePanelTitle(_44);},fixFlashBug:function(){}};QQLiveSetup.player={startup:function(){if(QQLiveSetup.browser.isBrwValid()==false){return;}
if(QQLiveSetup.flash.isFlashVerVaild()==false){return;}
if(QQLiveSetup.version.check(QQLiveSetup.config.STARTUP_MIN_VER)==false){return;}
window.location.href="qqlive://system_startup/";},openClient:function(p1,p2){if(!p1){return;}
if(!QQLiveSetup.version.hasQQLivePlayer()){return;}
var sso="qqlive://sso/";if(!p2){var val=p1;if(/^\d+$/i.test(val)){sso+="projectid="+val;}else{if(val.toLowerCase().indexOf("qqlive://sso/")>=0){sso=val;}else{if(/^[a-z0-9]{15}$/i.test(val)){sso+="vbarid="+val;}else{return;}}}}
if(!!p1&&!!p2){sso+="vbarid="+p1+"&videoid="+p2;}
var obj=QQLiveSetup.installer.getActiveXObj(QQLiveSetup.config.PROGID_QQLIVE_LIVEAPI,"");if(!!obj){try{obj.OpenQQLive(sso);return;}
catch(e){}}
window.location.href=sso;}};function OnOk(){if(!QQLiveSetup.browser.ie&&!QQLiveSetup.browser.isCanFF()){QQLiveSetup.flash.showNotSupport();return;}
if(!QQLiveSetup.installer.isMMInstalled()){if(!!QQLiveSetup.browser.ie){QQLiveSetup.flash.showInstallStep();}else{if(QQLiveSetup.installer.checkFFHasMMEmbed()==false){QQLiveSetup.flash.showNotSupport();return;}
QQLiveSetup.flash.showManualInstall(QQLiveSetup.lang.LOWVERSION);QQLiveSetup.installer.hide();}
return;}
if(!QQLiveSetup.version.check()){if(!!QQLiveSetup.browser.ie){if(!QQLiveSetup.version.hasQQLiveOcx()){if(QQLiveSetup.version.hasOldVersion()){QQLiveSetup.flash.showInstallBtn(QQLiveSetup.lang.LOWVERSION);}else{QQLiveSetup.flash.showInstallBtn(QQLiveSetup.lang.CLICKBTN);}}else{QQLiveSetup.flash.showInstallBtn(QQLiveSetup.lang.LOWVERSION);}}else{QQLiveSetup.flash.showManualInstall(QQLiveSetup.lang.LOWVERSION);}}};function flashCall(cmd){switch(cmd){case"downloadQQLive":QQLiveSetup.installer.onManualDownClick();QQLiveSetup.flash.JumpUrl();break;case"fresh":QQLiveSetup.flash.Fresh();break;case"runQQLive":QQLiveSetup.flash.RunQQLive();break;case"installQQLive":QQLiveSetup.installer.autoDownload();QQLiveSetup.installer.onDownloadClick();break;case"SLA":window.open("http://live.qq.com/help/index.html?id=8","_blank");break;}};QQLiveSetup.driverPage={sendMsg:function(id,v){v=v||"";window.navigate("app:OnMsg&nID="+id+"&vContent="+v);},ready:function(){window.navigate("app:PageLoaded");}};QQLiveSetup.event={bind:function(obj,fn){var _45=Array.prototype.slice.call(arguments,2);return function(){var _46=obj||this,_47=_45.concat(Array.prototype.slice.call(arguments,0));if(typeof(fn)=="string"){if(_46[fn]){return _46[fn].apply(_46,_47);}}else{return fn.apply(_46,_47);}};},closeMousewheel:function(){document.onmousewheel=function(e){e=e||event;if(e.ctrlKey){return false;}};}};var IsInstall=QQLiveSetup.installer.isMMInstalled;var CheckVersion=QQLiveSetup.version.check;var QQLiveSetup=QQLiveSetup||{};QQLiveSetup.DEFINE={STATUS:{NOT_INITED:-1,INIT:0,READY:4,PLAYING:7,STOP:1,LOADING:2,PAUSE:6,Buffering:8,END:91},EVENT:{LOADSTART:"LoadStart",LOADING:"Loading",PLAY:"Play",STOP:"Stop",PAUSE:"Pause",PLAYNEXT:"PlayNext",PLAYPREV:"PlayPrev",MUTE:"Mute",FULLSCREEN:"FullScreen",VIDEOREADY:"VideoReady",PROGESS:"Progress",END:"End",VIDEOCHANGE:"VideoChange",VOLUMECHANGE:"VolumeChange",MOUSEMOVE:"MouseMove",DBCLICK:"DBClick",TYPECHANGE:"TypeChange",CHECK_MMINSTALLER:"CheckMMInstall",CHECK_FLASH:"CheckFlash",CHECK_VERSION:"CheckVersion",SHOW_PLAYER:"ShowPlayer",DIRVER_PAGE_INITED:"DirverPageInited",OCX_READY:"PlayerReady",GUIDE_FLASH_INITED:"GuideFlashInited",UPDATE_SSO:"UpdateSSO",PAUSE_BTN_CLICK:"PauseBtnClick",FULLSCREEN_BTN_CLICK:"FullScreenBtnClick",CAN_PREV:"CanPrev",CAN_NEXT:"CanNext",OCX_INIT_FAILED:"OcxInitFailed",SCRIPT_ERROR:"ScriptError"},MSG:{LIVE_OCX_EVENT_ONMSG_PLAYING:1,LIVE_OCX_EVENT_ONMSG_PAUSED:2,LIVE_OCX_EVENT_ONMSG_STOPED:3,LIVE_OCX_EVENT_PREPLAY_LOADING:4,LIVE_OCX_EVENT_ONMSG_LOADSTART:7,LIVE_OCX_EVENT_ONMSG_MOUSEMOVE:9,LIVE_OCX_EVENT_ONMSG_LBUTTONDOWN:12,LIVE_OCX_EVENT_ONMSG_LBUTTONDBLCLK:14,LIVE_OCX_EVENT_ONMSG_START:15,LIVE_OCX_EVENT_ONMSG_VOLUME_UP:23,LIVE_OCX_EVENT_ONMSG_VOLUME_DOWN:24,LIVE_OCX_EVENT_ONMSG_MUTE:25,LIVE_OCX_EVENT_ONMSG_CANPRE:26,LIVE_OCX_EVENT_ONMSG_CANNEXT:27,LIVE_OCX_EVENT_ONMSG_BUF_RESUME_PLAY:30,LIVE_OCX_EVENT_ONMSG_PAUSE_RESUME_PLAY:31,LIVE_OCX_EVENT_ONMSG_PLAY_PAUSE_CLICK:32,LIVE_OCX_EVENT_ONMSG_COMMAND:100,LIVE_DRIVERPAGE_EVENT_FLASH_INITED:501,LIVE_DRIVERPAGE_EVENT_ALL_INITED:502,LIVE_PAGE_EVENT_GUIDEFLSAH_INITED:503,LIVE_DRIVERPAGE_EVENT_UPDATESSO:504,LIVE_CTRLBAR_EVENT_PAUSECLICK:505,LIVE_CTRLBAR_EVENT_FULLSCREENCLICK:506,LIVE_OCX_EVENT_FULLSCREEN_SWITCH:507,LIVE_DRIVERPAGE_EVENT_OCX_INIT_FAILED:508,LIVE_DRIVERPAGE_EVENT_JS_ERROR:509,LIVE_OCX_EVENT_ONMSG_FLV_PROGRAM_END:1003,LIVE_OCX_EVENT_ONMSG_FLV_TOTAL_TIME:1005},COMMANDID:{IDM_RBUTTON_PLAY_PAUSE:11251,IDM_RBUTTON_PRE:11253,IDM_RBUTTON_NEXT:11254,HOT_KEY_FULLSCREEN:11302},PROGRESS_EVENT:{FLV_LOADING:2,FLV_HEAD_TOTAL_TIME:3},KEYCODE:{HOTKEYF_SHIFT:1,HOTKEYF_CONTROL:2,HOTKEYF_ALT:4,HOTKEYF_EXT:8,VK_RETURN:13,VK_ESCAPE:27,VK_SPACE:32,VK_LEFT:37,VK_UP:38,VK_RIGHT:39,VK_DOWN:40},VIDEOTYPE:{UNKNOWN:0,LIVE:1,VOD:8},AD_EVENT:{ERROR:"Error",DATALOADED:"DataLoaded",DOWNLOADED:"Downloaded",PLAYEND:"PlayEnd"}};var QQLiveCtrlBarProvider=function(_48){var $me=this;this.config=_48;this.swfid=this.config.swfid;if(!!this.config.ctrlDivId){this.ctrlDiv=getId(this.config.ctrlDivId);}
this.ctrlObj=!!window.ActiveXObject?document.getElementById(this.swfid):document.embeds[this.swfid];var _49=QQLiveSetup.event.bind;new function(){for(var p in QQLiveSetup.DEFINE.EVENT){this["on"+QQLiveSetup.DEFINE.EVENT[p]+"Call"]=function(){};this["on"+QQLiveSetup.DEFINE.EVENT[p]+"Click"]=function(){};}}();this.bindCall=function(_4a,fn){this.prototype["on"+_4a+"Call"]=_49(this,fn);};this.bindClick=function(_4b,fn){this.prototype[this.getClickEvtName(_4b)]=_49(this,fn);};this.getClickEvtName=function(_4c){return"on"+_4c+"Click";};this.resize=function(_4d,_4e){$me.ctrlObj.style.width=_4d;$me.ctrlObj.style.height=_4e;};this.setMarginTop=function(_4f){if(!isNaN(_4f)){_4f=_4f+"px";}
if(!!$me.ctrlDiv){$me.ctrlDiv.style.position="absolute";$me.ctrlDiv.style.marginTop=_4f;}};this.showDiv=function(){if(!!$me.ctrlDiv){$me.ctrlDiv.style.display="";}};};var QQLiveOCXProvider=function(_50){_50=_50||{};var $me=this;var $=document.getElementById;var _51=function(v){return document.embeds[v];};var _52=function(){};var _53="";var _54=null;var _55={};var _56={};var _57=0,_58=0;function _59(_5a){var _5b=Array.prototype.slice.call(arguments,1);var _5c="on"+_5a;if(typeof $me[_5c]=="function"){$me[_5c].apply($me,_5b);}};function _5d(_5e){var sso=_50.url;var _5f=QQLiveSetup.param.getUrlParam("vbarid",sso);var _60=QQLiveSetup.param.getUrlParam("videoid",sso);var _61=QQLiveSetup.param.getUrlParam("projectid",sso);if(isNaN(_5e)){sso="qqlive://sso/vbarid="+_5f+"&videoid="+_5e;}else{sso="qqlive://sso/projectid="+_61;}
_50.url=sso;QQLiveSetup.driverPage.sendMsg(QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_UPDATESSO,sso);};function _62(id,_63){switch(id){case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_START:_59(QQLiveSetup.DEFINE.EVENT.VIDEOREADY);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_LOADSTART:_5d(_63);_59(QQLiveSetup.DEFINE.EVENT.LOADSTART,$me.getType());break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_PREPLAY_LOADING:_59(QQLiveSetup.DEFINE.EVENT.LOADING,_63);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_PLAYING:case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_PAUSE_RESUME_PLAY:_59(QQLiveSetup.DEFINE.EVENT.PLAY);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_PAUSED:_59(QQLiveSetup.DEFINE.EVENT.PAUSE);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_STOPED:_59(QQLiveSetup.DEFINE.EVENT.STOP);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_FLV_PROGRAM_END:_59(QQLiveSetup.DEFINE.EVENT.END);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_LBUTTONDBLCLK:_59(QQLiveSetup.DEFINE.EVENT.DBCLICK);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_MUTE:_59(QQLiveSetup.DEFINE.EVENT.MUTE,_54.Mute);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_VOLUME_UP:case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_VOLUME_DOWN:_59(QQLiveSetup.DEFINE.EVENT.VOLUMECHANGE,_63);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_PLAY_PAUSE_CLICK:$me.switchPause();break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_MOUSEMOVE:_59(QQLiveSetup.DEFINE.EVENT.MOUSEMOVE,_63);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_CANPRE:_59(QQLiveSetup.DEFINE.EVENT.CAN_PREV,_63);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_CANNEXT:_59(QQLiveSetup.DEFINE.EVENT.CAN_NEXT,_63);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_COMMAND:switch(_63){case QQLiveSetup.DEFINE.COMMANDID.IDM_RBUTTON_PLAY_PAUSE:switch($me.getStatus()){case QQLiveSetup.DEFINE.STATUS.INIT:case QQLiveSetup.DEFINE.STATUS.STOP:$me.start();break;case QQLiveSetup.DEFINE.STATUS.PLAYING:$me.pause();break;case QQLiveSetup.DEFINE.STATUS.PAUSE:$me.play();break;}
break;case QQLiveSetup.DEFINE.COMMANDID.HOT_KEY_FULLSCREEN:$me.switchFullScreen();break;case QQLiveSetup.DEFINE.COMMANDID.IDM_RBUTTON_NEXT:$me.playNext();break;case QQLiveSetup.DEFINE.COMMANDID.IDM_RBUTTON_PRE:$me.playPrev();break;default:break;}
break;default:break;}
$me.sendMsg(id,_63);};function _64(uID,_65,_66){if(uID==QQLiveSetup.DEFINE.PROGRESS_EVENT.FLV_HEAD_TOTAL_TIME){_57=_65;_58=_66;}
_59(QQLiveSetup.DEFINE.EVENT.PROGESS,uID,_65,_66);};this._inited=false;this.config={url:"",ctrl:null,width:0,height:0,isContinued:true};this.setParam=function(k,v){if(typeof k!="string"){return;}
switch(k.toLowerCase()){case"programpageurl":_56.ProgramPageUrl=v;break;case"mute":_56.Mute=QQLiveSetup.param.getParamBool(v);if(this._inited){this.setMute(v);}
break;case"volume":_56.Volume=v;if(this._inited){this.setVolume(v,false);}
break;case"fullscreen":_56.FullScreen=!!v;if(this._inited){this.setFullScreen(v);}
break;case"appendpausebtn":_56.AppendPauseBtn=QQLiveSetup.param.getParamBool(v)?1:0;break;case"url":_50.url=v;break;case"iscontinued":_50.isContinued=QQLiveSetup.param.getParamBool(v);break;}};this.init=function(){for(var i in _50){this.config[i]=_50[i];}
_50=this.config;_54=QQLiveSetup.param.getElementObjectById(_50.ocxId);if(!_54){throw new Error("QQLive OCX Object is null");}
for(var p in _56){if(p.toLowerCase()=="programpageurl"){_54.SetPageUrl(_56[p]);}else{_54[p]=_56[p];}}
if(QQLiveSetup.userAgent.ie){_54.attachEvent("OnMsg",_62);_54.attachEvent("OnProgress",_64);}else{_54.AddEventListener("OnMsg",_62,false);_54.AddEventListener("OnProgress",_64,false);}
_59("Init");this._inited=true;};this.getOcx=function(){return _54;};this.getSSO=function(){return _50.url;};this.getType=function(){return _54.Type;};this.getStatus=function(){if(!_54){return QQLiveSetup.DEFINE.STATUS.NOT_INITED;}
return _54.Status;},this.isPlaying=function(){return $me.getStatus()==QQLiveSetup.DEFINE.STATUS.PLAYING;};this.isMute=function(){return!!_54.Mute;};this.isLive=function(){return $me.getType()==QQLiveSetup.DEFINE.VIDEOTYPE.LIVE;};this.isFullScreen=function(){return!!_54.FullScreen;};this.getCurrentTime=function(){return _57;};this.setCurrentTime=function(v){_57=v;};this.getTotalTime=function(){return _58;};this.start=function(sso){sso=sso||$me.getSSO();if(!sso){return;}
if(!isNaN(sso)){sso="qqlive://sso/projectid="+sso;}
if(sso.toLowerCase().indexOf("qqlive://sso")!=0){return;}
_50.url=sso;if($me.getStatus()==QQLiveSetup.DEFINE.STATUS.PLAYING){$me.stop();}
try{_54.StartTask(sso);_53=sso;}
catch(e){_59(QQLiveSetup.DEFINE.EVENT.OCX_INIT_FAILED);}};this.isSSOChange=function(){return _50.url!=_53;};this.play=function(){_54.Play();};this.stop=function(){_54.Stop();};this.pause=function(){if($me.getStatus()==QQLiveSetup.DEFINE.STATUS.LOADING){return;}
_54.Pause();};this.switchPause=function(){if($me.getStatus()==QQLiveSetup.DEFINE.STATUS.PLAYING){$me.pause();}else{if($me.getStatus()==QQLiveSetup.DEFINE.STATUS.PAUSE){$me.play();}}};this.playNext=function(){if($me.isCanNext()){_59(QQLiveSetup.DEFINE.EVENT.PLAYNEXT);_54.PlayNext(false);}},this.playPrev=function(){if($me.isCanPrev()){_59(QQLiveSetup.DEFINE.EVENT.PLAYPREV);_54.PlayNext(true);}};this.setMute=function(_67){_54.Mute=_56.Mute=!!_67;};this.switchMute=function(){$me.setMute(!_54.Mute);};this.setFullScreen=function(_68){if(!!_68){window.navigate("app:FullScreen&bFull=1");_54.FullScreen=1;}else{window.navigate("app:FullScreen&bFull=0");_54.FullScreen=0;}
_59(QQLiveSetup.DEFINE.EVENT.FULLSCREEN,_68);};this.switchFullScreen=function(){this.setFullScreen(!_54.FullScreen);};this.sendMsg=function(id,v){QQLiveSetup.driverPage.sendMsg(id,v);};this.setVolume=function(v,_69){if(v==undefined){return;}
_69=_69||false;v=v<0?0:v;_56.Volume=v;_54.SetVolume(v,_69);};this.getVolume=function(){return _54.Volume;};this.startSeek=function(){_54.SeekBegin();};this.seek=function(v){if(v>100||v<0){return;}
_54.Seek(v);_54.SeekEnd();};this.isCanNext=function(){return!!_54.CanNext;};this.isCanPrev=function(){return!!_54.CanPre;};this.showPrompt=function(msg){_54.ShowPrompt(msg);};this.bindCall=function(_6a,fn){this["on"+_6a]=QQLiveSetup.event.bind(this,fn);};this.resize=function(w,h){_54.style.width=w+"px";_54.style.height=h+"px";};for(var fn in QQLiveSetup.DEFINE.EVENT){this.bindCall(fn,_52);}
this.bindCall(QQLiveSetup.DEFINE.EVENT.VIDEOREADY,$me.play);this.bindCall(QQLiveSetup.DEFINE.EVENT.LOADSTART,$me.play);this.bindCall(QQLiveSetup.DEFINE.EVENT.END,function(){if(_50.isContinued){if($me.isCanNext()){$me.playNext();}}});this.bindCall(QQLiveSetup.DEFINE.EVENT.DBCLICK,$me.switchFullScreen);};var QQLive_SetParam=function(){};var QQLive_Play=function(){};var QQLive_Pause=function(){};var QQLive_Stop=function(){};var QQLive_TranslateAccelerator=function(){};var QQLive_Resize=function(){};var QQLivePlayer=(function(){var _6b={},_6c={},_6d=true,_6e=false,_6f=false,_70=false;var _71=null,_72=null,_73=null,_74=null;var _75=null,_76=null,_77=null,_78=null;var _79=null,_7a=null;var _7b=null,_7c=null;var _7d=0,_7e="_prefixSwf",_7f="_loadingSwf",_80="_adSwf";var _81=null;var _82=0,_83=0;var _84={prefix:1,loading:2,ocx:4,previewpic:8,ad:16};var _85={Mute:0,Volume:50,FullScreen:0,OcxMode:3,autoPlay:true,type:QQLiveSetup.DEFINE.VIDEOTYPE.VOD,url:"",adv:"",oid:""};var _86={};var _87={},_88={};function _89(_8a){_82=_8a;};function _8b(_8c){return _82==_8c;};function _8d(_8e){_83=_83|_8e;};function _8f(_90){return _83&_90;};function _91(_92,_93){_92=_92||0;_93=_93||0;return _92&65535|_93<<16;};function _94(evt){_81=evt;};function _95(evt){_81=null;};function _96(evt){return _81==evt;};function _97(h){h=h||_6c.height;return _6c.hideCtrl?h:h-_6c.ctrlHeight;};function _98(_99,_9a,fun,_9b){var key=_91(_99,_9a);_87[key]=fun;if(!!_9b){_88[key]=1;}};function _9c(){if(_8b(_84.ocx)){return;}
if(window.event.srcElement.tagName=="DIV"){_73.setMarginTop(-1*_6c.ctrlHeight);}else{_73.setMarginTop(0);}};function _9d(_9e,_9f,_a0,_a1,_a2){var _a3,_a4;_a3=QQLiveSetup.param.getUrlParam("width",_9f);_a4=QQLiveSetup.param.getUrlParam("height",_9f);_a0=_a0||_a3||_6c.width;_a1=_a1||_a4||_6c.ocxHeight;var str="";if(!!QQLiveSetup.userAgent.ie){str+="<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\""+_a0+"\" height=\""+_a1+"\" id=\""+_9e+"\" name=\""+_9e+"\" align=\"middle\" codebase=\"http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab#version=10,0,0,0\">";str+="   <param name=\"allowScriptAccess\" value=\"always\" />";str+="   <param name=\"movie\" value=\""+_9f+"\">";str+="   <param name=\"quality\" value=\"high\" />";str+="   <param name=\"bgcolor\" value=\"#000000\" />";str+="   <param name=\"play\" value=\"true\" />";str+="   <param name=\"type\" value=\"application/x-shockwave-flash\" />";str+="   <param name=\"pluginspage\" value=\"http://www.macromedia.com/go/getflashplayer\" />";if(!!_a2){for(var p in _a2){str+="<param name=\""+p+"\" value=\""+_a2[p]+"\" />";}}
str+="</object>";}else{str+="<embed src=\""+_9f+"\" quality=\"high\" id=\""+_9e+"\" name=\""+_9e+"\" bgcolor=\"#000000\" width=\""+_a0+"\" height=\""+_a1+"\" align=\"middle\" allowScriptAccess=\"always\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"";if(!!_a2){for(var p in _a2){str+=" "+p+"=\""+_a2[p]+"\"";}}
str+=" />";}
return str;};function _a5(){if(!_77){return;}
var str="<img src='"+_6c.previewPic+"' width="+_6c.width+"' height='"+_6c.ocxHeight+"' />";_77.innerHTML=str;_8d(_84.previewpic);};function _a6(){if(_8b(_84.previewpic)){return;}
if(!_8f(_84.previewpic)){_a5();}
_71.scrollTop=_77.offsetTop;_89(_84.previewpic);};function _a7(){if(!_77){return;}
var str=_9d(_7e,_6c[QQLiveSetup.param.driverurl.previewurl]||QQLiveSetup.config.PREVIEW_URL,null,null,{"wmode":"Opaque","Scale":"NoScale"});_77.innerHTML=str;_8d(_84.prefix);};function _a8(){if(!_79){return;}
var str=_9d(_7f,_6c[QQLiveSetup.param.driverurl.loadingurl]||QQLiveSetup.config.LOADING_URL,null,null,{"wmode":"Opaque"});_79.innerHTML=str;_7a=QQLiveSetup.param.getElementObjectById(_7f);_8d(_84.loading);QQLiveSetup.flash.fixFlashBug();};function _a9(){if(!_7b){return;}
var str=_9d(_80,QQLiveSetup.config.AD_SWF_URL,null,null,{"wmode":"Opaque"});_7b.innerHTML=str;QQLiveSetup.flash.fixFlashBug();_7c=QQLiveSetup.param.getElementObjectById(_80);_8d(_84.ad);_7b.style.marginTop=_6c.ctrlHeight+"px";};function _aa(){if(_8f(_84.ocx)){return;}
var _ab="";_ab="<Object id='"+_6c.ocxId+"' width=100%";_ab+=" height="+_97();_ab+=" classid=CLSID:";_ab+=QQLiveSetup.config.OCX_CLSID;_ab+=" standby=\"Loading Tencent QQ视频 componets...\">";_ab+=" </Object>";_74.innerHTML=_ab;_74.style.marginTop=(_6c.hideCtrl?_6c.ctrlHeight:0)+"px";_8d(_84.ocx);};function _ac(){var str=_9d(_6c.ctrlId,_6c.ctrlUrl,null,_6c.ctrlHeight,{"wmode":"window"});_76.style.marginTop=document.body.clientHeight-_6c.ctrlHeight+"px";_76.innerHTML=str;QQLiveSetup.flash.fixFlashBug();_73=new QQLiveCtrlBarProvider({"swfid":_6c.ctrlId,"ctrlDivId":_6c.ctrlDivId});_75=_73.ctrlObj;};function _ad(){if(_77){if(!_8f(_84.prefix)){_a7();}
_71.scrollTop=_77.offsetTop;_71.style.height=_97();if(_6c.hideCtrl){_77.style.height=_6c.ocxHeight;_79.style.marginTop=_6c.ctrlHeight;}
_89(_84.prefix);}
if(!!_72){if(_72.isFullScreen()){_72.setFullScreen(false);}}
if(_6c.hideCtrl){_71.attachEvent("onmouseover",_9c);}
_ae(0);};function _af(_b0,_b1,_b2){if(_b2==undefined){_b2=!!_72?_72.isFullScreen():_6c[QQLiveSetup.param.ocx.fullscreen];}
if(!!_b2){_b0.style.width="100%";_b0.style.height=document.body.clientHeight-_6c.ctrlHeight+"px";_b1.style.width="100%";_b1.style.height=document.body.clientHeight-_6c.ctrlHeight+"px";_71.style.height=document.body.clientHeight;_71.attachEvent("onmouseover",_9c);}else{_b0.style.width="100%";_b0.style.height=_6c.ocxHeight+"px";_b1.style.width="100%";_b1.style.height=_6c.ocxHeight+"px";_71.style.height=_97();_71.detachEvent("onmouseover");}
_71.scrollTop=_b0.offsetTop;};function _b3(_b4){_af(_79,_7a,_b4);};function _b5(_b6){_af(_7b,_7c,_b6);if(!_b6){if(_6c.hideCtrl){_7b.style.marginTop=_6c.ctrlHeight+"px";}}};function _b7(){if(_8b(_84.loading)){return;}
if(_79){if(!_8f(_84.loading)){_a8();}
_ae(0);_b3();if(_6c.hideCtrl){_71.attachEvent("onmouseover",_9c);}
_89(_84.loading);}};function _b8(){clearTimeout(_6b.prefix);if(_8b(_84.ad)){return;}
if(_7b){if(!_8f(_84.ad)){_a9();}
_b5();if(_6c.hideCtrl){_71.attachEvent("onmouseover",_9c);}
_89(_84.ad);}};function _b9(){_aa();if(!_72){pub.bindOcxInterface();}};function _ba(){if(_8f(_84.ocx)&&_8b(_84.ocx)&&_72){return;}
if(!_8f(_84.ocx)){_b9();}
_71.scrollTop=_74.offsetTop;_ae(0);if(_6c.hideCtrl){_71.detachEvent("onmouseover");}
_89(_84.ocx);};function _ae(v){if(!_7a||typeof _7a.setLoadingText!="function"){return;}
var str="";if(isNaN(v)){str=v;}else{str="正在加载";if(!!v){str+=" "+(v>=100?95:v)+"%";}
str+="...";}
try{_7a.setLoadingText(str);}
catch(e){}};function _bb(str){return QQLiveSetup.param.filterXSS(decodeURIComponent(str));};function _bc(){QQLiveSetup.isDebug=QQLiveSetup.param.getParamBool(QQLiveSetup.param.getUrlParam(QQLiveSetup.param.driverurl.debug));_6c.ctrlHeight=_bb(QQLiveSetup.param.getUrlParam(QQLiveSetup.param.driverurl.ctrlheight))||50;_6c.width=_bb(QQLiveSetup.param.getUrlParam("w"))||558;_6c.height=_bb(QQLiveSetup.param.getUrlParam("h"))||422;_6c.ocxHeight=(document.body.clientHeight==0?parseInt(_6c.height,10):document.body.clientHeight)-_6c.ctrlHeight;_6c.previewPic=_bb(QQLiveSetup.param.getUrlParam(QQLiveSetup.param.driverurl.previewpic))||"";_6c[QQLiveSetup.param.driverurl.loadingurl]=_bb(QQLiveSetup.param.getUrlParam(QQLiveSetup.param.driverurl.loadingurl))||"";_6c[QQLiveSetup.param.driverurl.previewurl]=_bb(QQLiveSetup.param.getUrlParam(QQLiveSetup.param.driverurl.previewurl))||"";_6c.ctrlUrl=_bb(QQLiveSetup.param.getUrlParam(QQLiveSetup.param.driverurl.ctrlbar))||QQLiveSetup.config.CTRLSWF_URL;_6c.hideCtrl=QQLiveSetup.param.getParamBool(QQLiveSetup.param.getUrlParam(QQLiveSetup.param.driverurl.hidectrl));if(!!QQLiveSetup.isDebug){QQLiveSetup.log("-----ocx param config-----");for(var p in _6c){QQLiveSetup.log(p+"="+_6c[p]);}
QQLiveSetup.log("-----ocx param config-----");}};function _bd(sec){sec=parseInt(sec,10);var min=0;var _be=0;if(sec>=60){min=Math.floor(sec/60);sec=sec%60;}
if(min>=60){_be=Math.floor(min/60);min=min%60;}
var arr=[];if(min<10){min="0"+min;}
if(_be<10){_be="0"+_be;}
arr.push(_be);arr.push(min);if(sec<10){sec="0"+sec;}
arr.push(sec);return arr.join(":");};function _bf(sso){try{QQLiveSetup.debug("fetching video data...");_72.start(sso||"");}
catch(e){_c0();}};function _c1(){_70=true;if(_c2.isPlayEnd()){QQLiveSetup.debug("ad play is end,play video...");_72.play();}else{QQLiveSetup.debug("ad play is not end,wait for ad play to end...");}};function _c3(){var adv=_85[QQLiveSetup.param.driver.adv];if(adv==undefined){adv="";}
if(adv!="0"||!!_85["oid"]){_6c.isAD=true;}else{_6c.isAD=false;}
QQLiveSetup.debug("config.isAD="+_6c.isAD);};function _c0(){if(_8b(_84.loading)){_ae("初始化播放控件失败，请刷新页面重试");}
QQLiveSetup.driverPage.sendMsg(QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_OCX_INIT_FAILED);};var _c2={isPlayEnd:function(){if(!_6c.isAD){return true;}
return!!_6d;},setPlayEnd:function(b){if(_8b(_84.loading)&&!b){return;}
QQLiveSetup.debug("set play end ="+(!!b?"true":"false"));_6d=!!b;},isAdDownload:function(){return(!!_7c&&typeof _7c.playAd=="function");},isNeedShowAd:function(){return!!(_c2.getAdId()||_85["oid"]);},getAdId:function(){var _c4=_85[QQLiveSetup.param.driver.adv];if(!!_c4){return _c4;}
var _c5=_72.getSSO();if(_c5.toLowerCase().indexOf("projectid")>0){var _c6=QQLiveSetup.param.getUrlParam("projectid",_c5);return _c6;}
return"";},showAd:_b8,outputAd:_a9,playAd:function(_c7,_c8){if(!_6e){_b7();return;}
_c7=_c7||"0";_c8=_c8||_c2.getAdId();_70=false;QQLiveSetup.debug("oid="+_85["oid"]);_7c.playAd(_c7,_c8,""+_85["oid"]);_c2.setPlayEnd(false);},showLoadingAD:function(){QQLiveSetup.debug("ready to show loading ad...");_b8();_c2.playAd("0",_c2.getAdId());},onError:function(){QQLiveSetup.debug("ad error");_c2.setPlayEnd(true);_c2.onPlayEnd();},onDataOk:function(){QQLiveSetup.debug("ad data ok");_6e=true;_c2.showLoadingAD();},onDownloadEnd:function(){QQLiveSetup.debug("ad download end");_bf();},onPlayEnd:function(){QQLiveSetup.debug("ad play end");_c2.setPlayEnd(true);if(_72.getStatus()<=QQLiveSetup.DEFINE.STATUS.STOP){_bf();}
if(!!_70){_c1();}else{_b7();if(_75){_75.setStopBtnEnable(true);_75.setFullbtnEnable(true);}}}};var pub={init:function(_c9){QQLiveSetup.debug("QQLivePlayer.init");QQLiveSetup.event.closeMousewheel();_6c=_c9;_bc();QQLive_SetParam=QQLivePlayer.setParam;QQLive_Play=QQLivePlayer.play;QQLive_Pause=QQLivePlayer.onPauseClick;QQLive_Stop=QQLivePlayer.onStopClick;QQLive_Resize=QQLivePlayer.onShellResize;_71=getId(_6c.showDivId);_74=getId(_6c.ocxDivId);_76=getId(_6c.ctrlDivId);_79=getId(_6c.loadingDivId);_7b=getId(_6c.adDivId);if(!_74||!_76){return;}
if(!!_71){_71.style.height=_97();}
_ac();_77=getId(_6c.prefixDivId);return true;},setParam:function(k,v){v=QQLiveSetup.param.filterXSS(v);k=k.toLowerCase();if(k in QQLiveSetup.param.ocx){_85[QQLiveSetup.param.ocx[k]]=v;return;}
if(k in QQLiveSetup.param.driver){_85[QQLiveSetup.param.driver[k]]=v;if(k==QQLiveSetup.param.driver.adv.toLowerCase()){_c3();}
return;}
if(k=="width"||k=="height"){_6c[k]=v;}},bindHotKey:function(){function _ca(){if(_8b(_84.prefix)||_8b(_84.ad)){return;}
pub.onFullScreenClick(!_72.isFullScreen());};function _cb(){if(_72.isPlaying()){pub.onPauseClick(false);}else{pub.onPlayClick();}};function _cc(){if(!_72.isFullScreen()){return;}
pub.onFullScreenClick(false);};_98(QQLiveSetup.DEFINE.KEYCODE.VK_UP,QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_ALT+QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_EXT,pub.upVolume,true);_98(QQLiveSetup.DEFINE.KEYCODE.VK_DOWN,QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_ALT+QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_EXT,pub.downVolume,true);_98(QQLiveSetup.DEFINE.KEYCODE.VK_RIGHT,QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_CONTROL+QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_EXT,pub.goFF,true);_98(QQLiveSetup.DEFINE.KEYCODE.VK_LEFT,QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_CONTROL+QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_EXT,pub.backward,true);_98(QQLiveSetup.DEFINE.KEYCODE.VK_RIGHT,QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_EXT,pub.goFF,true);_98(QQLiveSetup.DEFINE.KEYCODE.VK_LEFT,QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_EXT,pub.backward,true);_98(QQLiveSetup.DEFINE.KEYCODE.VK_SPACE,null,_cb);_98(QQLiveSetup.DEFINE.KEYCODE.VK_ESCAPE,null,_cc,false);_98(QQLiveSetup.DEFINE.KEYCODE.VK_RETURN,null,_ca,false);_98(QQLiveSetup.DEFINE.KEYCODE.VK_RETURN,QQLiveSetup.DEFINE.KEYCODE.HOTKEYF_EXT,_ca,false);},bindOcxInterface:function(){_72=new QQLiveOCXProvider({"ocxId":_6c.ocxId||"OcxObj"});QQLive_TranslateAccelerator=pub.onTranslateAccelerator;for(k in _85){_72.setParam(k,_85[k]);}
_72.bindCall(QQLiveSetup.DEFINE.EVENT.PLAY,pub.setPlayStatus);_72.bindCall(QQLiveSetup.DEFINE.EVENT.STOP,pub.setStopStatus);_72.bindCall(QQLiveSetup.DEFINE.EVENT.PAUSE,pub.setPauseStatus);_72.bindCall(QQLiveSetup.DEFINE.EVENT.PROGESS,pub.setProgess);_72.bindCall(QQLiveSetup.DEFINE.EVENT.FULLSCREEN,pub.onFullScreenCall);_72.bindCall(QQLiveSetup.DEFINE.EVENT.MUTE,pub.setMute);_72.bindCall(QQLiveSetup.DEFINE.EVENT.VOLUMECHANGE,pub.setVolume);_72.bindCall(QQLiveSetup.DEFINE.EVENT.MOUSEMOVE,pub.onOcxMouseMove);_72.bindCall(QQLiveSetup.DEFINE.EVENT.VIDEOREADY,pub.onVideoReady);_72.bindCall(QQLiveSetup.DEFINE.EVENT.LOADSTART,pub.onLoadStart);_72.bindCall(QQLiveSetup.DEFINE.EVENT.LOADING,pub.onSetLoadingProgess);_72.bindCall(QQLiveSetup.DEFINE.EVENT.PLAYNEXT,_b7);_72.bindCall(QQLiveSetup.DEFINE.EVENT.PLAYPREV,_b7);_72.bindCall(QQLiveSetup.DEFINE.EVENT.CAN_NEXT,pub.onCanNext);_72.bindCall(QQLiveSetup.DEFINE.EVENT.CAN_PREV,pub.onCanPrev);_72.bindCall(QQLiveSetup.DEFINE.EVENT.OCX_INIT_FAILED,_c0);pub.bindHotKey();_72.init();},readyPlayer:function(){_c3();_85.autoPlay=(QQLiveSetup.param.getParamBool(_85.autoPlay)&&(_85.url.length>0));if(_85.autoPlay){setTimeout(function(){_b9();if(_6c.isAD){_b8();}else{_b7();_bf();}},250);_73.setMarginTop(0);pub.initCtrl(false);}else{if(!!_6c.previewPic){_a6();}else{_ad();}
_73.setMarginTop(0);pub.initCtrl(true);}
QQLiveSetup.driverPage.sendMsg(QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_ALL_INITED);},initPlayer:function(){},initCtrl:function(_cd){var _ce=!_cd;if(!_c2.isPlayEnd()){_ce=false;}
if(_85.url.length>0){_75.setPlayBtnEnable(true);}
_75.setVolumeCtrlBtnEnable(true);_75.setVolumeCtrlBarEnable(true);_75.setFullbtnEnable(_ce);_75.setSwfVolume(parseInt(_85.Volume));if(QQLiveSetup.param.getParamBool(_85.Mute)){pub.setMute(true);}
if(_85.autoPlay){pub.setPlayStatus(false);}
if(_cd){_75.setSwfPauseState();}
_75.setStopBtnEnable(false);if(_85.type==QQLiveSetup.DEFINE.VIDEOTYPE.LIVE){_75.setLiveMode(true);}
if(_85.url.length==0){_75.setPlayBtnEnable(false);}},play:function(sso){if(_8f(_84.ocx)==false){_b9();}
if(sso==_72.getSSO()&&_72.getStatus()>QQLiveSetup.DEFINE.STATUS.STOP){return;}
if(!!_72&&_72.getStatus()>QQLiveSetup.DEFINE.STATUS.STOP){_72.stop();_75.setPlayBtnEnable(false);}
_72.setParam("url",sso);if(!!_c2.isNeedShowAd()){if(!_c2.isAdDownload()){_b8();}else{_c2.showLoadingAD();}}else{if(!_8b(_84.ad)){_b7();}
_70=false;_bf(sso);}},setLiveStatus:function(){_75.setSwfPauseState();_75.setPlayBtnEnable(false);_75.setNextBtnEnable(false);_75.setPreBtnEnable(false);_75.setSeekbarEnable(false);},setPlayStatus:function(_cf){if(_cf==undefined){_cf=true;}
if(_75&&typeof _75.setSwfPlayState=="function"){var _d0=!!_72?_72.getType():_85.type;if(_d0==QQLiveSetup.DEFINE.VIDEOTYPE.LIVE){pub.setLiveStatus();}else{_75.setSwfPlayState();_75.setNextBtnEnable(!!_72?_72.isCanNext():false);_75.setPreBtnEnable(!!_72?_72.isCanPrev():false);_75.setSeekbarEnable(true);}
_75.setStopBtnEnable(true);_75.setFullbtnEnable(_c2.isPlayEnd());if(!!_cf){_ba();}
if(!!_72&&_96(QQLiveSetup.DEFINE.EVENT.PAUSE)){_72.pause();_95();}}},setPauseStatus:function(){_75.setSwfPauseState();_75.setStopBtnEnable(true);_75.setFullbtnEnable(true);},setStopStatus:function(){_75.renewTimeCount();_75.setSwfDownloadProgress(0);_75.setSwfPauseState();_75.setSeekbarEnable(false);if(!_8b(_84.loading)){_6b.prefix=setTimeout(_ad,200);_75.setStopBtnEnable(false);_75.setFullbtnEnable(false);if(_72.getSSO().length>0){_75.setPlayBtnEnable(true);}else{_75.setPlayBtnEnable(false);}}},setProgess:function(_d1,_d2,_d3){if(_d1==QQLiveSetup.DEFINE.PROGRESS_EVENT.FLV_HEAD_TOTAL_TIME){_d2=parseInt(_d2*1000,10);_d3=parseInt(_d3*1000,10);_75.setSwfPlayTime(_d2,_d3);}else{if(_d1==QQLiveSetup.DEFINE.PROGRESS_EVENT.FLV_LOADING){_75.setSwfDownloadProgress(_d3);}}},onLoadStart:function(_d4){clearTimeout(_6b.prefix);if(_72.getType()==QQLiveSetup.DEFINE.VIDEOTYPE.VOD){_75.setSwfPlayState();}else{pub.setLiveStatus();_75.setLiveMode(true);}
_75.setStopBtnEnable(_c2.isPlayEnd());},onSetLoadingProgess:function(v){QQLiveSetup.debug("[onSetLoadingProgess]:"+v);v=v||0;v=isNaN(v)?0:v;v=parseInt(v,10);_ae(v);},onPlayClick:function(){if(_8f(_84.ocx)==false){_b9();}
var _d5=_72.getStatus();if(_d5==QQLiveSetup.DEFINE.STATUS.PAUSE){_72.play();return;}
if(!!_6c.isAD){if(!_c2.isAdDownload()){_b8();}else{_c2.showLoadingAD();}}else{_b7();_bf();}
if(_c2.isPlayEnd()&&!!_75){_75.setFullbtnEnable(true);}},onPauseClick:function(_d6){_d6=_d6==undefined?true:_d6;if(_72.getStatus()==QQLiveSetup.DEFINE.STATUS.LOADING||_c2.isPlayEnd()==false){_94(QQLiveSetup.DEFINE.EVENT.PAUSE);return;}
_72.pause();if(!!_d6){QQLiveSetup.driverPage.sendMsg(QQLiveSetup.DEFINE.MSG.LIVE_CTRLBAR_EVENT_PAUSECLICK,"");}},onVideoReady:function(){QQLiveSetup.debug("video data is ready");_c1();},onStopClick:function(){if(!_72){return;}
if(_72.getStatus()==QQLiveSetup.DEFINE.STATUS.LOADING){_ad();}
_72.stop();},setVolume:function(v,_d7){if(_d7==undefined){_d7=false;}
if(isNaN(v)){return;}
v=v>100?100:v;v=v<0?0:v;_75.setSwfVolume(v);},upVolume:function(){if(!_72||_72.isMute()){return;}
var v=_72.getVolume();if(v>=1000){return;}
v=v+(v<100?10:30);v>=1000&&(v=1000);_72.setVolume(v,true);},downVolume:function(){if(!_72||_72.isMute()){return;}
var v=_72.getVolume();if(v<=0){return;}
v=v-(v<=100?10:30);v<=0&&(v=0);_72.setVolume(v,true);},goFF:function(){if(_72.isLive()){return;}
_72.startSeek();var _d8=_72.getCurrentTime();var _d9=_72.getTotalTime();_d8=_d8+5;_72.setCurrentTime(_d8);_72.showPrompt("快进: "+_bd(_d8));var v=parseFloat(_d8/_d9)*100;_72.seek(v);},backward:function(){if(_72.isLive()){return;}
_72.startSeek();var _da=_72.getCurrentTime();var _db=_72.getTotalTime();_da=_da-5;if(_da<0){_da=0;}
_72.setCurrentTime(_da);var v=parseFloat(_da/_db)*100;_72.showPrompt("快退: "+_bd(_da));_72.seek(v);},onDragVolume:function(v){if(!_72){_85.Volume=v;return;}
clearTimeout(_6b.volume);_6b.volume=setTimeout(function(){_72.setVolume(v);_6b.volume=0;},20);},setMute:function(_dc){_75.setSwfMute(!_dc?0:1);_75.setVolumeCtrlBarEnable(!_dc);},onMuteClick:function(v){QQLiveSetup.debug("[onMuteClick]");if(!_72){_85.Mute=v;}else{_72.setMute(v);}},onStartSeek:function(){_72.startSeek();},onDragProgress:function(v){_72.seek(v);},onNextClick:function(){_72.playNext();},onPrevClick:function(){_72.playPrev();},onCanPrev:function(){if(!_c2.isPlayEnd()){return;}
_75.setPreBtnEnable(true);},onCanNext:function(){if(!_c2.isPlayEnd()){return;}
_75.setNextBtnEnable(true);},onFullScreenClick:function(_dd){if(_dd!=undefined){_72.setFullScreen(_dd);}else{_72.switchFullScreen();}
QQLiveSetup.driverPage.sendMsg(QQLiveSetup.DEFINE.MSG.LIVE_CTRLBAR_EVENT_FULLSCREENCLICK,_72.isFullScreen());},onFullScreenCall:function(_de){var _df=_72.getOcx();if(_de){if(_8b(_84.loading)){_b3(true);_74.style.marginTop=_6c.ctrlHeight;}else{if(_8b(_84.ad)){_b5(true);_74.style.marginTop=_6c.ctrlHeight;}}
_df.style.width=document.body.clientWidth;_df.style.height=document.body.clientHeight;_75.style.width="100%";_71.style.height=document.body.clientHeight;_73.setMarginTop(0);}else{_df.style.width="100%";_df.style.height=_97();_75.style.width="100%";_71.style.height=_97();_71.style.left="0px";_73.setMarginTop(0);if(_8b(_84.loading)){_7a.style.marginLeft="0px";_b3(false);}
if(_8b(_84.ad)){_7c.style.marginLeft="0px";_b5(false);}}
_75.setFullStatus(!_de);QQLiveSetup.driverPage.sendMsg(QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_FULLSCREEN_SWITCH,_de);},onTranslateAccelerator:function(_e0,_e1){QQLiveSetup.debug("[onTranslateAccelerator]:"+_e0);if(QQLiveSetup.param.getParamBool(_e1)&&!(_e0 in _88)){return;}
if(typeof _87[_e0]=="function"){_87[_e0].apply(QQLivePlayer);}},onOcxMouseMove:function(pos){if(!_72.isFullScreen()&&!_6c.hideCtrl){return;}
var y=pos%65536;if(Math.abs(_7d-y)<=5){return;}
_7d=y;var h=_74.offsetHeight;QQLiveSetup.debug("pos= "+pos+" y="+y+" height="+(h-50));if(y>=h-50){_73.setMarginTop(-1*_6c.ctrlHeight);}else{_6b.ctrlHide=setTimeout(function(){_73.setMarginTop(0);},0);}},onCtrlMouseOver:function(){clearTimeout(_6b.ctrlHide);_6b.ctrlHide=0;},onCtrlMouseOut:function(){_6b.ctrlHide=setTimeout(function(){_73.setMarginTop(0);},0);},onPageLoaded:function(){QQLiveSetup.debug("QQLive_Ctrl_swfInit");QQLiveSetup.driverPage.sendMsg(QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_FLASH_INITED);QQLiveSetup.driverPage.ready();},onShellResize:function(w,h){},onJSError:function(){try{QQLiveSetup.driverPage.sendMsg(QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_JS_ERROR);}
catch(e){}
return true;},ad:_c2};return pub;})();var QQLive_Ctrl_swfInit=QQLivePlayer.onPageLoaded;var QQLive_Ctrl_playMovie=QQLivePlayer.onPlayClick;var QQLive_Ctrl_stopMovie=QQLivePlayer.onStopClick;var QQLive_Ctrl_pauseMovie=QQLivePlayer.onPauseClick;var QQLive_Ctrl_setVolume=QQLivePlayer.onDragVolume;var QQLive_Ctrl_setMute=QQLivePlayer.onMuteClick;var QQLive_Ctrl_setFullScreen=QQLivePlayer.onFullScreenClick;var QQLive_Ctrl_setPlayProgress=QQLivePlayer.onDragProgress;var QQLive_Ctrl_nextMovie=QQLivePlayer.onNextClick;var QQLive_Ctrl_preMovie=QQLivePlayer.onPrevClick;var QQLive_Ctrl_seekStart=QQLivePlayer.onStartSeek;var QQLive_Ctrl_stageOver=QQLivePlayer.onCtrlMouseOver;var QQLive_Ctrl_stageOut=QQLivePlayer.onCtrlMouseOut;var QQLive_Loading_stageDoubleClick=QQLivePlayer.onFullScreenClick;var QQLive_AD_Error=QQLivePlayer.ad.onError;var QQLive_AD_Dataok=QQLivePlayer.ad.onDataOk;var QQLive_AD_DownloadComplete=QQLivePlayer.ad.onDownloadEnd;var QQLive_AD_PlayComplete=QQLivePlayer.ad.onPlayEnd;var QQLiveObject=function(_e2,_e3){var _e4={},_e5={},_e6={},_e7={},_e8=[],_e9=false;var _ea={mousewheel:0,OldMode:0};var $me=this;var _eb=null,_ec;QQLiveObject.instance[QQLiveObject.instance.length+1]=this;this.width=_e2;this.height=_e3;this.inited=false;var _ed={shellId:"QQLiveOcxShell"};var _ee=function(_ef){return"QQLive_Player_20101122_"+_ef;};var _f0=function(_f1){var str="";str+="<div id=\""+_ee("installer")+"\"></div>";str+="<div id=\""+_ee("guide")+"\"></div>";str+="<div id=\""+_ee("player")+"\"></div>";getId(_f1).innerHTML=str;};function _f2(){var arr=[];for(var p in _e6){if(p==QQLiveSetup.param.driverurl.previewpic&&QQLiveSetup.param.getParamBool(_e5[QQLiveSetup.param.driver.autoplay])){continue;}
arr.push(p+"="+encodeURIComponent(QQLiveSetup.param.filterXSS(_e6[p])));}
arr.push("h="+$me.height);arr.push("w="+$me.width);if(QQLiveSetup.isDebug){arr.push(QQLiveSetup.param.driverurl.debug+"=1");}
return arr.join("&");};function _f3(_f4){var _f5=Array.prototype.slice.call(arguments,1);var _f6="on"+_f4;if(typeof $me[_f6]=="function"){$me[_f6].apply($me,_f5);}};function _f7(id,_f8){try{switch(id){case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_LOADSTART:$me.callback(_f8);_f3(QQLiveSetup.DEFINE.EVENT.LOADSTART,_f8);break;case QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_FLASH_INITED:_f9();_f3(QQLiveSetup.DEFINE.EVENT.DIRVER_PAGE_INITED);break;case QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_ALL_INITED:_f9();_fa();_f3(QQLiveSetup.DEFINE.EVENT.OCX_READY);break;case QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_UPDATESSO:$me.setClientLink(_f8);break;case QQLiveSetup.DEFINE.MSG.LIVE_CTRLBAR_EVENT_PAUSECLICK:_f3(QQLiveSetup.DEFINE.EVENT.PAUSE_BTN_CLICK);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_PAUSED:_f3(QQLiveSetup.DEFINE.EVENT.PAUSE);break;case QQLiveSetup.DEFINE.MSG.LIVE_CTRLBAR_EVENT_FULLSCREENCLICK:_f3(QQLiveSetup.DEFINE.EVENT.FULLSCREEN_BTN_CLICK,_f8);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_FULLSCREEN_SWITCH:_f3(QQLiveSetup.DEFINE.EVENT.FULLSCREEN,_f8);break;case QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_JS_ERROR:_f3(QQLiveSetup.DEFINE.EVENT.SCRIPT_ERROR);break;case QQLiveSetup.DEFINE.MSG.LIVE_DRIVERPAGE_EVENT_OCX_INIT_FAILED:_f3(QQLiveSetup.DEFINE.EVENT.OCX_INIT_FAILED);break;case QQLiveSetup.DEFINE.MSG.LIVE_OCX_EVENT_ONMSG_STOPED:_f3(QQLiveSetup.DEFINE.EVENT.STOP);break;default:break;}}
catch(e){}};function _fb(id,_fc){switch(id){case 1100:$me.callback(_fc);_f3(QQLiveSetup.DEFINE.EVENT.LOADSTART,_fc);break;default:break;}};function _f9(){if(!!$me.ping){_e8.push(new Date().valueOf());}};function _fa(){try{if(!$me.ping||_e8.length!=6){return;}
if(_e8[5]-_e8[4]<=0){return;}
var s=[];for(var i=0;i<_e8.length;i++){if(typeof _e8[i]!="undefined"){s.push((i+1)+"="+(_e8[i]-_e8[0]+$me.speedOffset));}}
var url="http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=1422&flag2=3&flag3=8&"+s.join("&");var _fd;_fd=new Image();_fd.src=url;}
catch(e){}};var _fe={Play:function(url){if(!_eb){return;}
_eb.Play(url);},Stop:function(){if(!_eb){return;}
_eb.Stop();},Pause:function(){if(!_eb){return;}
_eb.Pause();}};this.ping=false;this.speedOffset=0;this.setClientLink=function(_ff){_ec=_ff;};this.getSSO=function(){return _ec;};this.openClient=function(){QQLiveSetup.player.openClient($me.getSSO());};this.startup=function(){};this.addParam=function(k,v){k=k.toLowerCase();if(k in QQLiveSetup.param.oldParam){_e7[QQLiveSetup.param.oldParam[k]]=v;}
if(k=="webskin"){if(v.toLowerCase()=="local://webskin/bbweb.xml"){_e6[QQLiveSetup.param.driverurl.ctrlbar]=QQLiveSetup.config.CTRLSWF_W_URL;_e6[QQLiveSetup.param.driverurl.ctrlheight]="32";}}else{if(k in QQLiveSetup.param.playpage){_ea[QQLiveSetup.param.playpage[k]]=v;}else{if(k in QQLiveSetup.param.shell){_e4[QQLiveSetup.param.shell[k]]=v;}else{if(k in QQLiveSetup.param.ocx){_e5[QQLiveSetup.param.ocx[k]]=v;}else{if(k in QQLiveSetup.param.driver){if(k=="type"){v=v!="1"?QQLiveSetup.DEFINE.VIDEOTYPE.VOD:QQLiveSetup.DEFINE.VIDEOTYPE.LIVE;}
_e5[QQLiveSetup.param.driver[k]]=v;}else{if(k in QQLiveSetup.param.driverurl){_e6[QQLiveSetup.param.driverurl[k]]=v;}}}}}}
if($me.inited){_eb.setParam(k,v);}};this.destory=function(){if(typeof this.beforeDestory=="function"&&this.beforeDestory()==false){return;}
QQLiveSetup.debug("ready to destory...");if((!!QQLiveSetup.browser.ie)&&!!QQLiveSetup.installer.installerObj){try{QQLiveSetup.installer.installerObj.Destroy();QQLiveSetup.installer.installerObj=null;delete QQLiveSetup.installer.installerObj;QQLiveSetup.debug("destory successful");}
catch(e){QQLiveSetup.debug("destory failed");}}};this.getCtrl=function(){if(!_e9){return _fe;}
return getId("QQLiveOldOcx")||null;};this.showGuideFlash=function(_100,_101,_102){var _103=QQLiveSetup.config.GUIDE_SWF;var _104=window.location.hostname||window.location.host;var _105=location.host.split(".");if(_105.length>1){_104=_105.slice(_105.length-2).join(".");}
if(_104.toLowerCase()=="qq.com"){_103=QQLiveSetup.config.GUIDE_SWF_IMGCACHE;}
var _106="";_106+="<OBJECT ID=\"UISWF\" CLASSID=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\""+QQLiveSetup.config.FLASH_CAB+"\" width=\""+this.width+"\" height=\""+this.height+"\"  >\n";_106+=" <param name=\"movie\" value=\""+_103+"\" />\n";_106+=" <param name=\"allowscriptaccess\" value=\"always\"/>\n";_106+=" <param name=\"wmode\" value=\"transparent\">";_106+=" <embed src=\""+_103+"\" width=\""+this.width+"\" height=\""+this.height+"\" quality=\"high\" allowscriptaccess=\"always\" wmode=\"transparent\" name = \"UISWF\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\"></embed>";_106+="</OBJECT>\n";getId(_ee("guide")).innerHTML=_106;if(_102&&!_101&&QQLiveSetup.installer.timer==null){QQLiveSetup.installer.timer=setInterval(QQLiveSetup.installer.checkMMIsInstall,500);}};this.showFlashInstall=function(_107){var _108="";_108+="<div style=\"position:relative;height:"+this.height+"px;width:"+this.width+"px;font-size:12px;border:1px solid #000000;background:#000000;\">";_108+="<div style=\"position:absolute;top:50%;left:50%;width:300px;height:85px;margin:-40px 0 0 -150px;text-align:left; overflow:hidden;\">";_108+="<h1 style=\"height:40px;margin:0 0 0 0;padding:0;color:#FF9902;font-size:18px;font-weight:bold;\">您尚未安装Flash播放器或版本过低</h1>";_108+="<p style=\"height:26px;margin:0;padding:0;color:#a0a0a0;\">请点击<a href=\"##\" onclick=\"window.location.href='";_108+=!!QQLiveSetup.browser.ie?QQLiveSetup.config.FLASH_SETUP_AX:QQLiveSetup.config.FLASH_SETUP_PLUGIN;_108+="'\" style=\"margin:0 3px;color:#FF9902;text-decoration:underline;\">下载到本地</a>，然后手动安装Flash播放器</p>";_108+="<p style=\"height:14px;margin:0;padding:0;color:#a0a0a0;\">（安装完成后，请点击<a href=\"##\" onclick=\"javascript:window.location.reload()\" style=\"margin:0 3px;color:#FF9902;text-decoration:underline;\">刷新</a>该页面）</p>";_108+="</div>";_108+="</div>";getId(_ee("guide")).innerHTML=_108;};this.showIEPlayer=function(_109){var _10a="";_10a="<Object id='"+_ed.shellId+"' width="+this.width;_10a+=" height="+this.height;_10a+=" classid=CLSID:";_10a+=QQLiveSetup.config.SEHLL_CLSID;_10a+=" standby=\"Loading Tencent QQ视频 componets...\">";for(var p in _e4){if(_e4[p]!=null){if(p==QQLiveSetup.param.shell.ocxurl){var _10b=_f2();if(_10b.length>0){_e4[p]+=(_e4[p].indexOf("?")>0?"&":"?")+_10b;}}
_10a+=" <param name=\""+p+"\" value=\""+_e4[p]+"\">";}}
_10a+=" </Object>";getId(_ee("player")).innerHTML=_10a;_eb=document.getElementById(_ed.shellId);for(var p in _e5){_eb.setParam(p,_e5[p]);}
_eb.setParam("width",this.width);_eb.setParam("height",this.height);var _10c=QQLiveSetup.param.getUrlParam("oid");if(!!_10c){_eb.setParam("oid",""+_10c);}
_eb.Init();_eb.attachEvent("OnMsg",_f7);};this.showOldIEPlayer=function(_10d){var _10e="";_10e="<Object id='QQLiveOldOcx' width="+this.width;_10e+=" height="+this.height;_10e+=" classid=CLSID:"+QQLiveSetup.config.OLD_IE_CLSID;_10e+=" standby=\"Loading Tencent QQ视频 componets...\">";_e7["ClientMode"]="3";if(!_e7["MediaFun"]){_e7["MediaFun"]="MediaFun://ctrlbar|ad|";}
for(var p in _e7){if(_e7[p]!=null){_10e+=" <PARAM NAME=\""+p+"\" VALUE=\""+_e7[p]+"\">";}}
_10e+=" </Object>";getId(_ee("player")).innerHTML=_10e;var _10f=getId("QQLiveOldOcx");if(!!_10f){_10f.attachEvent("OnMsg",_fb);}};this.showFFPlayer=function(_110){if(!QQLiveSetup.browser.isCanFF()){return;}
var _111="";_111="<embed id=\""+_ed.shellId+"\" name=\""+_ed.shellId+"\" width="+this.width+" height="+this.height;_111+=" type=\"application/tecent-qqlive-plugin\">";getId(_ee("player")).innerHTML=_111;_eb=getId(_ed.shellId);for(var p in _e4){if(p==QQLiveSetup.param.shell.ocxurl){var _112=_f2();if(_112.length>0){_e4[p]+="?"+_112;}}
_eb[p]=_e4[p];}
_eb.CreateAX("LiveOcxShell");for(var p in _e5){var v=_e5[p]+"";_eb.SetParam(p,v);}
_eb.SetParam("width",$me.width+"");_eb.SetParam("height",$me.height+"");var _113=QQLiveSetup.param.getUrlParam("oid");if(!!_113){_eb.SetParam("oid",""+_113);}
_eb.Init();_eb.AddEventListener("OnMsg",_f7,false);};this.showOldFFPlayer=function(){if(!QQLiveSetup.browser.isCanFF()){return;}
var _114="";_114="<embed id=QQLiveOldOcx width="+this.width+" height="+this.height;_114+=" type=\"application/tecent-qqlive-plugin\">";getId(_ee("player")).innerHTML=_114;var ocx=getId("QQLiveOldOcx");_e7["ClientMode"]="3";if(!_e7["MediaFun"]){_e7["MediaFun"]="MediaFun://ctrlbar|ad|";}
for(var p in _e7){QQLiveSetup.debug(p+"="+_e7[p]);ocx[p]=_e7[p];}
ocx.CreateAX("LiveMedia.dll");var _115=getId("QQLiveOldOcx");if(!!_115){_115.AddEventListener("OnMsg",_fb,false);}};this.write=function(_116){_f9();if(!QQLiveSetup.param.getParamBool(_e4.mousewheel)){QQLiveSetup.event.closeMousewheel();}
getId(_116).style.backgroundColor="#000000";_f0(_116);var _117=!!QQLiveSetup.installer.isMMInstalled();if(!_117){QQLiveSetup.installer.showInstallerObject(_ee("installer"));}
_f9();var _118=QQLiveSetup.version.check();_f9();_f3(QQLiveSetup.DEFINE.EVENT.CHECK_VERSION,_118);if(!_118){if(QQLiveSetup.param.getParamBool(_ea[QQLiveSetup.param.playpage.oldmode])){var _119=QQLiveSetup.version.hasOldVersion();if(_119){if(!!QQLiveSetup.browser.ie){$me.showOldIEPlayer(_116);}else{if(QQLiveSetup.browser.isCanFF()){$me.showOldFFPlayer(_116);}}
_e9=true;_f3(QQLiveSetup.DEFINE.EVENT.OCX_READY);return;}}
var _11a=QQLiveSetup.flash.isFlashVerVaild();_f3(QQLiveSetup.DEFINE.EVENT.CHECK_FLASH,_11a);if(!_11a){$me.showFlashInstall(_116);return false;}
var _11b=QQLiveSetup.installer.isMMInstalled();_f3(QQLiveSetup.DEFINE.EVENT.CHECK_MMINSTALLER,_11b);if((!QQLiveSetup.browser.ie&&!QQLiveSetup.browser.isCanFF())||!_11b||!_118){window.onbeforeunload=function(){$me.destory();};$me.showGuideFlash(_116,_11b,true);return;}}
if(!_e4[QQLiveSetup.param.shell.ocxurl]){_e4[QQLiveSetup.param.shell.ocxurl]=QQLiveSetup.config.OCX_URL;}
if(typeof _e4[QQLiveSetup.param.shell.hidescripterr]=="undefined"){_e4[QQLiveSetup.param.shell.hidescripterr]=false;}
if(!!QQLiveSetup.browser.ie){$me.showIEPlayer(_116);}else{if(QQLiveSetup.browser.isCanFF()){$me.showFFPlayer(_116);}}
_f9();_f3(QQLiveSetup.DEFINE.EVENT.SHOW_PLAYER);this.inited=true;};this.play=function(_11c){this.write(_11c);};this.callback=function(){};this.bindCall=function(_11d,fn){this["on"+_11d]=QQLiveSetup.event.bind(this,fn);};};QQLiveObject.instance=[];/*  |xGv00|e7f5748e0f3459a7d814f55dfc3e319e */